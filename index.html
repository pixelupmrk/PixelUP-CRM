<!-- BOT DE ATENDIMENTO PIXELUP -->
<style>
  #chat-bot {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 300px;
    max-height: 400px;
    background: #0b1520;
    color: white;
    font-family: sans-serif;
    border: 1px solid #1f2d40;
    border-radius: 10px;
    display: none;
    flex-direction: column;
    z-index: 1000;
  }
  #chat-header {
    background: #102437;
    padding: 10px;
    font-weight: bold;
    border-top-left-radius: 10px;
    border-top-right-radius: 10px;
  }
  #chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 10px;
    font-size: 14px;
  }
  #chat-input {
    display: flex;
    border-top: 1px solid #1f2d40;
  }
  #chat-input input {
    flex: 1;
    padding: 8px;
    border: none;
    outline: none;
    background: #0b1520;
    color: white;
  }
  #chat-input button {
    background: #1f7aec;
    border: none;
    padding: 8px 12px;
    color: white;
    cursor: pointer;
  }
  #chat-toggle {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #1f7aec;
    color: white;
    border: none;
    padding: 12px;
    border-radius: 50%;
    font-size: 20px;
    cursor: pointer;
    z-index: 1001;
  }
</style>

<div id="chat-bot">
  <div id="chat-header">ðŸ¤– Atendimento PixelUp</div>
  <div id="chat-messages"></div>
  <div id="chat-input">
    <input type="text" id="user-msg" placeholder="Digite sua mensagem..." />
    <button onclick="sendBotMessage()">âž¤</button>
  </div>
</div>

<button id="chat-toggle" onclick="toggleBot()">ðŸ’¬</button>

<script>
  const API_URL = "https://sua-api.com/endpoint"; // coloque sua API real aqui
  const API_TOKEN = ""; // se precisar de token, adicione aqui

  function toggleBot() {
    const bot = document.getElementById("chat-bot");
    bot.style.display = bot.style.display === "flex" ? "none" : "flex";
  }

  function sendBotMessage() {
    const input = document.getElementById("user-msg");
    const message = input.value.trim();
    if (!message) return;

    appendMessage("VocÃª", message);
    input.value = "";

    fetch(API_URL, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        ...(API_TOKEN && { "Authorization": `Bearer ${API_TOKEN}` })
      },
      body: JSON.stringify({ message })
    })
    .then(res => res.json())
    .then(data => {
      const reply = data.reply || data.choices?.[0]?.message?.content || "NÃ£o entendi. Pode repetir?";
      appendMessage("PixelUpBot", reply);
    })
    .catch(err => {
      console.error("Erro:", err);
      appendMessage("PixelUpBot", "Desculpe, houve um erro ao responder.");
    });
  }

  function appendMessage(sender, text) {
    const container = document.getElementById("chat-messages");
    const msg = document.createElement("div");
    msg.innerHTML = `<strong>${sender}:</strong> ${text}`;
    msg.style.marginBottom = "8px";
    container.appendChild(msg);
    container.scrollTop = container.scrollHeight;
  }
</script>
